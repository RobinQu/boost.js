!function(a,b){"function"==typeof define&&define.amd?define("boost",[],b):a.boost=b()}(this,function(){var a,b,c;return function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("almond",function(){}),c("core/proto",[],function(){Function.prototype.bind||(Function.prototype.bind=function(a){var b=Array.prototype.slice,c=this,d=b.call(arguments,1);return d.length?function(){return arguments.length?c.apply(a,d.concat(b.call(arguments))):c.apply(a,d)}:function(){return arguments.length?c.apply(a,arguments):c.call(a)}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c++)a.call(b||null,this[c],c,this)})}),c("core/misc",["./proto"],function(){return{slice:Array.prototype.slice.call.bind(Array.prototype.slice),noop:function(){},classType:function(a){return Object.prototype.toString.call(a).slice(8,-1)},isArray:function(a){return"object"==typeof a&&a.constructor===Array}}}),c("core/mixin",["./misc"],function(a){return function b(){var c,d=a.slice(arguments),e=d.shift();if(e)return d.length?c=d.reduce(function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},e):b(context,e)}}),c("core/guid",{guidCache:{},getGlobalID:function(){var a=0;return function(){return a++}}(),generateGuid:function(a,b){return a.guid=(b||"")+context.getGlobalID(),a.guid},hashFor:function(){var a,b,c,d=[];for(a=0,b=arguments.length;b>a;a++)c=arguments[a],d.push(c.hash&&"function"==typeof c.hash?c.hash():context.guidFor(c));return d.join("")},guidFor:function(a){var b,c,d=typeof a;return void 0===a?"undefined":null===a?"null":"number"===d||"string"===d?(b=this.guidCache[d],c=b[a],c||(c=d+context.generateGuid(),b[a]=c),c):"boolean"===d?a?d+"_true":d+"_false":a.guid?a.guid:(d=Object.prototype.toString.call(a).slice(8,-1),context.generateGuid(a,d))}}),c("core/log",[],function(){var a,b,c={},d={};return a=function(b,c){return this instanceof a?(this.topic=b||"",this.enabled=c!==!1,this.level="INFO",this.transport=console,void(this.filter=[])):a.create(b)},a.prototype.enable=function(){return this.enabled=!0,this},a.prototype.disable=function(){return this.enabled=!1,this},a.levels=["INFO","DEBUG","WARN","ERROR"],a.prototype.write=function(a,b){"string"==typeof b[0]?(b[0]="[%s] %s "+b[0],b.splice(1,0,a.toUpperCase(),this.topic)):(b.unshift(this.topic),b.unshift("["+a.toUpperCase()+"]")),this.transport&&this.transport[a]&&this.transport[a].apply(this.transport,b)},a.prototype.addFilter=function(){this.filter.push(Array.prototype.slice.call(arguments))},a.prototype.resetFilter=function(){this.filter.length=0},a.prototype._filter=function(){return this.topic&&this.filter.indexOf(this.topic)>-1},a.levels.forEach(function(b){b=b.toLowerCase(),a.prototype[b]=function(){if(this.enabled&&!this._filter()){var a=Array.prototype.slice.call(arguments,0);return this.write.call(this,b,a)}}}),a.prototype.log=function(){var a=this.level.toLowerCase();this[a].apply(this,arguments)},a.create=function(b){return new a(b)},a.instrument=function(b){var c=a.create(b);return c.disable(),d[b]=c,d[b]},b=a.create(),c.Logger=a,["warn","log","info","error","debug"].forEach(function(a){c[a]=function(){b[a].apply(b,arguments)}}),c.getLogger=a.create,c.instrument=function(a,b){var c,e,f;if(a!==!0)for(a=a.split(","),c=0,e=a.length;e>c;c++)f=d[a[c].trim()],f&&(b?f.disable():f.enable());else for(c in d)d.hasOwnProperty(c)&&d[c].disable()},c}),c("core/main",["./mixin","./misc","./guid","./log","./proto"],function(a,b,c,d){return a({mixin:a},b,c,d)}),c("core",["core/main"],function(a){return a}),c("dom/data",["../core"],function(a){var b={},c="__boost_cache_key__",d=0;return a.data=function(a,e,f){var g,h;return g=a.dataset?a.dataset[c]:a[c],g?h=b[g]:(d++,a.dataset[c]=d,h=b[d]={}),f||null===f?(h[e]=f,f):h[e]},a.data}),c("dom/event",["../core","./data"],function(a,b){var c,d,e,f;return f=["focus","change","submit"],a.Event=function(a){var b,c,d;if(a)for(b=0,c=Event._props;c>b;b++)d=Event._props[b],this[d]=a[d];var e,f;this.timeStamp=this.timeStamp||Date.now(),this.target||(this.target=this.srcElement||document),3===this.target.nodeType&&(this.target=this.target.parentNode),!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement),void 0===this.pageX&&void 0!==this.clientX&&(e=document.documentElement,f=document.body,this.pageX=this.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e.clientLeft||0),this.pageY=this.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e.clientTop||0)),!this.which&&(0===a.charCode?this.charCode:this.keyCode)&&(this.which=this.charCode||this.keyCode)},a.Event._props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view which touches targetTouches changedTouches animationName elapsedTime dataTransfer".split(" "),c=function(a,c,d){var e=b(a,"_listener");e||(e=b(a,"_listener",function(){return Events.handle(a,arguments)})),a.addEventListener?a.addEventListner(c,e,!!d):a.attachEvent("on"+c.toLowerCase(),e)},d=function(a,c){var d=b(a,"_listener");d&&(a.removeEventListener?a.removeEventListener(c,method,!1):a.detachEvent("on"+c.toLoserCase(),method))},e=function(b){return window.event===b?new a.Event(b):b.normalized?b:new a.Event(b)},a.mixin(a.Event,{create:function(b){return new a.Event(b)},add:function(a,d){if(d.length>0)return d.forEach(function(a){Events.on(a,d[i],handler)}),this;var e,f,g;return 3===d.nodeType||8===d.nodeType?this:("function"==typeof handler?(g=handler,handler={context:null,method:g}):g=handler.method,e=b(d,"_events")||b(d,"_events",{}),f=e[a],f||(f=e[a]={}),f[context.hashFor(handler.context,handler.method)]=handler,c(d,type,g,!1),this)},simulate:function(a,b,c){var d=new E({type:b,target:a,preventDefault:function(){this.cancelled=!0},stopPropagation:function(){this.bubles=!1},timeStamp:Date.now(),cancelled:!1,bubbles:f.indexOf(b)>-1,normalized:!0});return c&&context.mixin(d,c),d},remove:function(a,c,e){if(a.length>0)return a.forEach(function(a){Events.remove(a,c,e)}),this;var f,g,h,i;if(i=!1,g=b(a,"_events"),c)if(f=g[c],e){delete f[context.hashFor(e.context,e.method)],h=null;for(h in f)break;key||(i=!0)}else i=!0;else for(h in g)Events.remove(a,g[h]);i&&(delete g[c],d(a,c)),h=null;for(h in g)break;return key||(b(a,"_events",null),b(a,"_listener",null)),this},trigger:function(a,b,c){var d,e,f,g;if(a.length&&a.length>0)return a.forEach(function(a){Events.trigger(a,b)}),this;if(3===a.nodeType||8===a.nodeType)return this;"function"==typeof a[b]&&(d=a[b]),e=c[0],e||(e=Events.simulate(a,b),c.unshift(e)),e.type=b,f=a;do g=Events.handle(f,e,c),f=f===document?null:f.parentNode||document;while(!g&&e.bubbles&&f);if(f=null,!d&&a["on"+b]&&a["on"+b].apply(a,c)===!1&&(g=!1),d&&g!==!1)try{d()}catch(h){}return g},handle:function(a,c,d){var f,g,h,i;if(c=e(c||window.event),f=(b(a,"_events")||{})[c.type],!f)return!1;d.unshift(c);for(g in f)handler=f[g],h=handler.method.apply(handler.context,d),h===!1&&(c.preventDefault(),c.stopPropagation()),i!==!1&&(i=h);return i}}),a.Event.prototype={preventDefault:function(){var a=this.originalEvent;return a&&(a.preventDefault?a.preventDefault():a.returnValue=!1),this},stopPropgation:function(){var a=this.originalEvent;return a&&(a.stopPropgation?a.stopPropgation():a.cancleBubble=!0),this},normalized:!0},a.Event}),c("dom/ready",["../core"],function(a){var b,c,d,e,f=!1,g=[];return b=function(){f=!0,document.removeEvnetListener?document.removeEventListener("DOMContentLoaded",b):document.detachEvent("onreadystatechange",c);for(var a=function(a){try{a()}catch(b){}};g.length;)a(listners.shift())},c=function(){if(!f){if(!document.body)return setTimeout(c,5);b()}},d=function(){if(!f){try{documnet.documentElement.doScroll("left")}catch(a){return void setTimeout(d,5)}b()}},window.addEventListener?(window.addEventListener("DOMContentLoaded",b),window.addEventListener("load",b)):window.attacheEvent&&(window.attachEvent("onreadystatechange",c),window.attachEvent("onload",b),!window.frameElement&&document.documentElement.doScroll&&d()),e=function(a){return a?"loading"!==document.readyState?a():f?a():void g.push(a):void 0},a.ready=e,e}),c("dom/storage",["../core","./ready"],function(a,b){if(window.localStorage)a.storage=window.localStorage;else if(document.cookie)a.storage={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b){a&&(document.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(a){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},a.storage.length=document.cookie.match(/\=/g).length;else{var c,d="__boost_storage__";b(function(){c=document.createElement("div"),c.id=d,c.style.display="none",c.addBehavior("#default#userdata"),document.body.appendChild(c)}),a.storage={getItem:function(a){return a=escape(a),c&&c.getAttribute(a)},setItem:function(a,b){a=escape(a),c&&(c.setAttribute(a,b),this.length++)},length:0,removeItem:function(a){c&&(c.removeAttribute(a),this.length--)},key:function(a){return a in c.attributes}}}return a}),c("dom/dollar/list",[],function(){var a=function(a,b){var c,d;for(a&&a.nodeType&&(a=11===a.nodeType?function(){var b=a.firstChild,c=[];do 1===b.nodeType&&(c.push(b),b=b.nextSibling);while(b);return c}():[a]),d=this.length=(a||[]).length,c=0;d>c;c++)this[c]=a[c];this.selector=b};return a.prototype.toArray=function(){return Array.prototype.slice.call(this)},a.prototype.size=function(){return this.length},a}),c("dom/dollar/query",["../../core"],function(a){return a.query={one:function(a,b){return b=b||document,b.querySelector(a)},all:function(a,b){return b=b||document,b.querySelectorAll(a)}},a.query}),c("dom/dollar/parse",[],function(){var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};return a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.text=a.circle=a.ellipse=a.line=a.path=a.polygon=a.polyline=a.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],function(b){if("string"!=typeof b)throw new TypeError("String expected");var c=/<([\w:]+)/.exec(b);if(!c)return document.createTextNode(b);b=b.replace(/^\s+|\s+$/g,"");var d,e=c[1];if("body"==e)return d=document.createElement("html"),d.innerHTML=b,d.removeChild(d.lastChild);var f=a[e]||a._default,g=f[0],h=f[1],i=f[2];for(d=document.createElement("div"),d.innerHTML=h+b+i;g--;)d=d.lastChild;if(d.firstChild==d.lastChild)return d.removeChild(d.firstChild);for(var j=document.createDocumentFragment();d.firstChild;)j.appendChild(d.removeChild(d.firstChild));return j}}),c("dom/dollar/match",["./query"],function(a){var b=function(){for(var a=["matches","webkitMacthesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],b=a.length;b--&&!Element.prototype[a[b]];);return a[b]}();return function(c,d){if(b)return c[b](d);var e,f,g=a.all(d,c.parentNode);for(e=0,f=g.length;f>e;e++)if(g[e]==c)return!0;return!1}}),c("dom/dollar/access",["./match"],function(a){return function(b,c,d,e){var f=[];if(c=c[type],e=e||1,!c)return f;do{if(e===f.length)break;1===c.nodeType&&(a(c,d)&&f.push(c),d||f.push(c))}while(c=c[type]);return f}}),c("dom/dollar/traverse",["./match","./access"],function(a,b){var c={};return c.find=function(a){return this.dom(a,this)},c.is=function(b){var c,d;for(c=0;d=this[c];c++)if(a(d,b))return!0;return!1},c.parent=function(a,c){return this.dom(b("parentNode",this[0],a,c))},c.next=function(a,b){return this.dom(c("nextSibling",this[0],a,b))},c.prev=c.previous=function(a,b){return this.dom(c("previousSibling"),this[0],a,b)},c.each=function(a){var b,c,d;for(c=0,d=this.length;d>c;c++)b=this.dom(this[c]),a.call(b,c,b);return this},c.forEach=function(a){var b,c,d;for(b=0,c=this.length;c>b;b++)d=this[b],a.call(d,d,b);return this},c.map=function(a){var b,c,d,e=[];for(b=0,c=this.length;c>b;b++)d=this[b],e.push(a.call(d,d,b));return e},c.at=c.eq=function(a){return this.dom(this[a])},c.first=function(){return this.at(0)},c.last=function(){return this.at(this.length-1)},["push","pop","shift","splice","unshift","reverse","sort","toString","concat","join","slice"].forEach(function(a){c[a]=function(){return Array.prototype[method].apply(this.toArray(),arguments)}}),c}),c("dom/dollar/css",[],function(){return function(){}}),c("dom/dollar/text",[],function(){return function(){}}),c("dom/dollar/manipulate",["./css","./text"],function(a,b){var c={};return c.text=function(a){if(a)return this.forEach(function(c){var d;if(11===c.nodeType){do d=c.firstChild,c.removeChild(d);while(c.firstChild)}else b(c,a)});var c=[];return this.forEach(function(a){c.push(b(a))}),c.join("")},c.html=function(a){return a?this.forEach(function(b){b.innerHTML=a}):this[0]&&this[0].innerHTML},c.css=function(b,c){return c||"string"!=typeof b?(this.forEach(function(d){a(d,b,c)}),this):a(this[0],b)},c.prepend=function(a){var b=this.dom;return this.forEach(function(c,d){b(a).forEach(function(a){a=d?a.cloneNode(!0):a,c.children.length?c.insertBefore(a,c.firstChild):c.appendChild(a)})}),this},c.append=function(a){var b=this.dom;return this.forEach(function(c,d){b(a).forEach(function(a){a=d?a.cloneNode(!0):a,c.appendChild(a)})}),this},c.insertAfter=function(a){var b=this.dom;return this.forEach(function(c){b(a).forEach(function(a,b){a.parentNode&&(c=b?c.cloneNode(!0):c,a.parentNode.insertBefore(c,a.nextSibling))})}),this},c.appendTo=function(a){return this.dom(a).append(this),this},c.replace=function(a){var b=this;return this.dom(a).forEach(function(a,c){var d=b[c],e=d.parentNode;e&&(a=c?a.cloneNode(!0):a,e.replaceChild(a,d))}),this},c.empty=function(){return this.forEach(function(a){setText(a,"")})},c.remove=function(){return this.forEach(function(a){var b=a.parentNode;b&&b.removeChild(a)})},c.clone=function(){return this.dom(this.map(function(a){return a.cloneNode(!0)}))},c}),c("dom/dollar/dom",["../../core/misc","./list","./query","./parse","./traverse","./manipulate"],function(a,b,c,d,e,f){var g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=function(a){if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)return!0;var b=g.exec(a);return!(!b||!b[1])},i=function(e,f){if(a.isArray(e))return new b(e);if(e instanceof b)return e;if(e.nodeName)return new b([e]);if("string"!=typeof e)throw new Error("invalid");var g=e.trim();if(h(g))return new b(d(g));var i=f?f instanceof b?f[0]:f:document;return new b(c.all(e,i),e)};return i.ext=function(a,c){if(a&&c&&"function"==typeof c)return void(b.prototype[a]=c);var d;for(d in a)a.hasOwnProperty(d)&&(b.prototype[d]=a[d])},i.ext("dom",i),i.ext(e),i.ext(f),i}),c("dom/dollar/main",["../../core","./dom"],function(a,b){return a.$=b,b}),c("dom/main",["../core","./event","./data","./ready","./storage","./dollar/main"],function(a){return a}),c("dom",["dom/main"],function(a){return a}),c("runtime/base64",["../core"],function(a){return a.base64={encode:window.btoa,decode:window.atob},a.base64}),c("runtime/json",["../core"],function(a){return a.JSON=window.JSON,a.JSON}),c("runtime/main",["../core","./base64","./json"],function(a){return a}),c("runtime",["runtime/main"],function(a){return a}),c("promise/core",["../core"],function(a){var b=a.Logger.instrument("promise"),c=0,d=function(a,b,c,d){this.onFulfilled=a,this.onRejected=b,this.resolve=c,this.reject=d},e=function(a){return this instanceof e?(b.log("construct"),this.state=null,this.value=null,this.deferred=[],this.guid=c++,void this._doResolve(a)):e(a)};e.prototype._doResolve=function(a){b.log("do resolve, guid",this.guid);var c=!1,d=this;try{a.call(this,function(a){c||(c=!0,d._resolve(a))},function(a){c||(c=!0,d._reject(a))})}catch(e){if(b.error(e.stack?e.stack:e),c)return;c=!0,d._reject(e)}},e.prototype._resolve=function(a){b.log("_resolve",a,"guid",this.guid);try{if(a===this)throw new Error("Cannot be resolved by self");if(a&&a.then&&"function"==typeof a.then)return void this._doResolve(a.then.bind(a));this.state=!0,this.value=a,this._finale()}catch(c){this._reject(c)}},e.prototype._reject=function(a){b.log("reject",a,"guid",this.guid),this.state=!1,this.value=a,this._finale()},e.prototype._finale=function(){b.log("_finale",this.deferred.length,"guid",this.guid);var a,c;for(a=0,c=this.deferred.length;c>a;a++)this._handle(this.deferred[a]);this.deferred=null},e.prototype._handle=function(a){return null===this.state?(b.log("queue",a),void this.deferred.push(a)):void setTimeout(function(){b.log("handle, state:",this.state);var c,d=this.state?a.onFulfilled:a.onRejected;d||(this.state?a.resolve(this.value):a.reject(this.value));try{c=d(this.value)}catch(e){return a.reject(e),void b.error(e.stack?e.stack:e)}a.resolve(c)}.bind(this),0)},e.prototype.then=function(a,b){var c=this;return new e(function(e,f){c._handle(new d(a,b,e,f))})},e.prototype.fail=function(b){return this.then(a.noop,b)};try{e.prototype.catch=e.prototype.fail}catch(f){}return e}),c("promise/reject",["./core"],function(a){return a.reject=function(b){return new a(function(a,c){c(b)})},a.reject}),c("promise/resolve",["./core"],function(a){return a.resolve=function(b){return b&&b.constructor===a?b:new a(function(a){a(b)})},a.resolve}),c("promise/race",["./core"],function(a){a.race=function(b){if(!b||!b.length)throw new TypeError("should provide an array of promises");return new a(function(a,c){b.forEach(function(b){b&&"function"==typeof b.then?b.then(a,c):a(b)})})}}),c("promise/all",["./core"],function(a){a.all=function(b){if(!b)throw new TypeError("should provide an array of promises");return new a(function(a,c){var d,e=[],f=0;return b.length?(d=function(c){f++,e.push(c),f===b.length&&a(e)},void b.forEach(function(a){a&&"function"==typeof a.then?a.then(d,c):d(a)})):a(e)})}}),c("promise/main",["../core","./core","./reject","./resolve","./race","./all"],function(a,b){return a.Promise=b,a.deferred=function(){var a={};return a.promise=new b(function(b,c){a.resolve=b,a.reject=c}),a},a.Promise}),c("promise",["promise/main"],function(a){return a}),c("net/xhr",["../core","../runtime"],function(a){var b=a.Logger.instrument("net:xhr");a.xhr=function(){return b.log("create xhr"),window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1};var c=function(d){return this instanceof c?(b.log("construct"),this.xhr=a.xhr(),this.method=d.method||"GET",d.headers&&this.set(d.headers),this.url=d.uri||d.url,this.withCredential=d.withCredential||!1,this.timeout=d.timeout||8e3,this.deferred=a.deferred(),this.response={},this.timer=null,void(this.xhr.onreadystatechange=this._handlestatechange.bind(this))):new c(d)};return c.prototype.set=function(a,b){if("object"==typeof a){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],this.set(c,d));return this}return this.xhr.setRequestHeader(a,b),this},c.prototype.basic=function(b,c){return this.set("Authorization","Basic "+a.base64.encode(b+":"+c)),this},c.prototype._handleData=function(c){return b.log("handle data"),"object"==typeof c&&"Object"===a.classType(c)&&(c=a.JSON.stringify(c)),c},c.prototype._handlestatechange=function(){var c,d={},e=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm;switch(b.log("onreadystatechange",this.url,this.xhr.readyState),this.xhr.readyState){case 1:break;case 2:break;case 3:break;case 4:this.timer&&clearTimeout(this.timer),this.xhr.onreadystatechange=a.noop;try{d.status=c=this.xhr.status,d.text=this.xhr.responseText,d.headers=function(a){for(var b,c=a.getAllResponseHeaders()||"",d={};b=e.exec(c);)d[b[1].toLowerCase()]=b[2];return d}(this.xhr)}catch(f){b.warn(f.stack?f.stack:f)}try{d.body=a.JSON.parse(d.text)}catch(f){b.warn(f.stack?f.stack:f)}c>=400&&500>c?this.deferred.reject(new Error("client error"),d):c>=500?this.deferred.reject(new Error("server error"),d):this.deferred.resolve(d)}},c.prototype.write=function(a){return a&&0===["GET","OPTION"].indexOf(method.toUpperCase())&&(b.log("before send"),this.xhr.send(this._handleData()),b.log("after send")),this},c.prototype.end=function(a){return b.log("before open",this.method,this.url),this.xhr.open(this.method,this.url),b.log("after open"),"timeout"in this.xhr?this.xhr.timeout=this.timeout:this.timer=setTimeout(function(){b.log("timeout"),this.abort("time out")}.bind(this),this.timeout),a?this.deferred.promise.then(function(b){a(null,b)},a):this.deferred.promise},["post","put","get","delete","option"].forEach(function(a){c[a]=function(b){return b.method=a,new c(b)}}),c.prototype.abort=function(a){b.log("abort"),this.xhr.abort(),this.deferred.reject(new Error(a))},a.Request=c,a.ajax=function(a){var b=new c(a);return b.end()},c}),c("net/main",["./xhr"],function(a){return{xhr:a}}),c("net",["net/main"],function(a){return a}),b.config({packages:["core","dom","runtime","promise","net"]}),c("main",["core","dom","runtime","promise","net"],function(a){return window.boost||(window.boost=a),a}),b(["main"]),b("main")});
//# sourceMappingURL=boost.min.map