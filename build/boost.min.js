!function(a,b){"function"==typeof define&&define.amd?define("boost",[],b):a.boost=b()}(this,function(){var a,b,c;return function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("almond",function(){}),c("core/proto",[],function(){Function.prototype.bind||(Function.prototype.bind=function(a){var b=Array.prototype.slice,c=this,d=b.call(arguments,1);return d.length?function(){return arguments.length?c.apply(a,d.concat(b.call(arguments))):c.apply(a,d)}:function(){return arguments.length?c.apply(a,arguments):c.call(a)}})}),c("core/misc",["./proto"],function(){return{slice:Array.prototype.slice.call.bind(Array.prototype.slice),noop:function(){},classType:function(a){return Object.prototype.toString.call(a).slice(8,-1)}}}),c("core/mixin",["./misc"],function(a){return function b(){var c,d=a.slice(arguments),e=d.shift();if(e)return d.length?c=d.reduce(function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},e):b(context,e)}}),c("core/guid",{guidCache:{},getGlobalID:function(){var a=0;return function(){return a++}}(),generateGuid:function(a,b){return a.guid=(b||"")+context.getGlobalID(),a.guid},hashFor:function(){var a,b,c,d=[];for(a=0,b=arguments.length;b>a;a++)c=arguments[a],d.push(c.hash&&"function"==typeof c.hash?c.hash():context.guidFor(c));return d.join("")},guidFor:function(a){var b,c,d=typeof a;return void 0===a?"undefined":null===a?"null":"number"===d||"string"===d?(b=this.guidCache[d],c=b[a],c||(c=d+context.generateGuid(),b[a]=c),c):"boolean"===d?a?d+"_true":d+"_false":a.guid?a.guid:(d=Object.prototype.toString.call(a).slice(8,-1),context.generateGuid(a,d))}}),c("core/log",[],function(){var a,b,c={},d={};return a=function(b,c){return this instanceof a?(this.topic=b||"",this.enabled=c!==!1,this.level="INFO",this.transport=console,void(this.filter=[])):a.create(b)},a.prototype.enable=function(){return this.enabled=!0,this},a.prototype.disable=function(){return this.enabled=!1,this},a.levels=["INFO","DEBUG","WARN","ERROR"],a.prototype.write=function(a,b){"string"==typeof b[0]?(b[0]="[%s] %s "+b[0],b.splice(1,0,a.toUpperCase(),this.topic)):(b.unshift(this.topic),b.unshift("["+a.toUpperCase()+"]")),this.transport&&this.transport[a]&&this.transport[a].apply(this.transport,b)},a.prototype.addFilter=function(){this.filter.push(Array.prototype.slice.call(arguments))},a.prototype.resetFilter=function(){this.filter.length=0},a.prototype._filter=function(){return this.topic&&this.filter.indexOf(this.topic)>-1},a.levels.forEach(function(b){b=b.toLowerCase(),a.prototype[b]=function(){if(this.enabled&&!this._filter()){var a=Array.prototype.slice.call(arguments,0);return this.write.call(this,b,a)}}}),a.prototype.log=function(){var a=this.level.toLowerCase();this[a].apply(this,arguments)},a.create=function(b){return new a(b)},a.instrument=function(b){var c=a.create(b);return c.disable(),d[b]=c,d[b]},b=a.create(),c.Logger=a,["warn","log","info","error","debug"].forEach(function(a){c[a]=function(){b[a].apply(b,arguments)}}),c.getLogger=a.create,c.instrument=function(a,b){var c,e,f;if(a!==!0)for(a=a.split(","),c=0,e=a.length;e>c;c++)f=d[a[c].trim()],b?f.disable():f.enable();else for(c in d)d.hasOwnProperty(c)&&d[c].disable()},c}),c("core/main",["./mixin","./misc","./guid","./log","./proto"],function(a,b,c,d){return a({mixin:a},b,c,d)}),c("core",["core/main"],function(a){return a}),c("dom/data",["../core"],function(a){var b={},c="__boost_cache_key__",d=0;return a.data=function(a,e,f){var g,h;return g=a.dataset?a.dataset[c]:a[c],g?h=b[g]:(d++,a.dataset[c]=d,h=b[d]={}),f||null===f?(h[e]=f,f):h[e]},a.data}),c("dom/event",["../core","./data"],function(a,b){var c,d,e,f;return f=["focus","change","submit"],a.Event=function(a){var b,c,d;if(a)for(b=0,c=Event._props;c>b;b++)d=Event._props[b],this[d]=a[d];var e,f;this.timeStamp=this.timeStamp||Date.now(),this.target||(this.target=this.srcElement||document),3===this.target.nodeType&&(this.target=this.target.parentNode),!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement),void 0===this.pageX&&void 0!==this.clientX&&(e=document.documentElement,f=document.body,this.pageX=this.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e.clientLeft||0),this.pageY=this.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e.clientTop||0)),!this.which&&(0===a.charCode?this.charCode:this.keyCode)&&(this.which=this.charCode||this.keyCode)},a.Event._props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view which touches targetTouches changedTouches animationName elapsedTime dataTransfer".split(" "),c=function(a,c,d){var e=b(a,"_listener");e||(e=b(a,"_listener",function(){return Events.handle(a,arguments)})),a.addEventListener?a.addEventListner(c,e,!!d):a.attachEvent("on"+c.toLowerCase(),e)},d=function(a,c){var d=b(a,"_listener");d&&(a.removeEventListener?a.removeEventListener(c,method,!1):a.detachEvent("on"+c.toLoserCase(),method))},e=function(b){return window.event===b?new a.Event(b):b.normalized?b:new a.Event(b)},a.mixin(a.Event,{create:function(b){return new a.Event(b)},add:function(a,d){if(d.length>0)return d.forEach(function(a){Events.on(a,d[i],handler)}),this;var e,f,g;return 3===d.nodeType||8===d.nodeType?this:("function"==typeof handler?(g=handler,handler={context:null,method:g}):g=handler.method,e=b(d,"_events")||b(d,"_events",{}),f=e[a],f||(f=e[a]={}),f[context.hashFor(handler.context,handler.method)]=handler,c(d,type,g,!1),this)},simulate:function(a,b,c){var d=new E({type:b,target:a,preventDefault:function(){this.cancelled=!0},stopPropagation:function(){this.bubles=!1},timeStamp:Date.now(),cancelled:!1,bubbles:f.indexOf(b)>-1,normalized:!0});return c&&context.mixin(d,c),d},remove:function(a,c,e){if(a.length>0)return a.forEach(function(a){Events.remove(a,c,e)}),this;var f,g,h,i;if(i=!1,g=b(a,"_events"),c)if(f=g[c],e){delete f[context.hashFor(e.context,e.method)],h=null;for(h in f)break;key||(i=!0)}else i=!0;else for(h in g)Events.remove(a,g[h]);i&&(delete g[c],d(a,c)),h=null;for(h in g)break;return key||(b(a,"_events",null),b(a,"_listener",null)),this},trigger:function(a,b,c){var d,e,f,g;if(a.length&&a.length>0)return a.forEach(function(a){Events.trigger(a,b)}),this;if(3===a.nodeType||8===a.nodeType)return this;"function"==typeof a[b]&&(d=a[b]),e=c[0],e||(e=Events.simulate(a,b),c.unshift(e)),e.type=b,f=a;do g=Events.handle(f,e,c),f=f===document?null:f.parentNode||document;while(!g&&e.bubbles&&f);if(f=null,!d&&a["on"+b]&&a["on"+b].apply(a,c)===!1&&(g=!1),d&&g!==!1)try{d()}catch(h){}return g},handle:function(a,c,d){var f,g,h,i;if(c=e(c||window.event),f=(b(a,"_events")||{})[c.type],!f)return!1;d.unshift(c);for(g in f)handler=f[g],h=handler.method.apply(handler.context,d),h===!1&&(c.preventDefault(),c.stopPropagation()),i!==!1&&(i=h);return i}}),a.Event.prototype={preventDefault:function(){var a=this.originalEvent;return a&&(a.preventDefault?a.preventDefault():a.returnValue=!1),this},stopPropgation:function(){var a=this.originalEvent;return a&&(a.stopPropgation?a.stopPropgation():a.cancleBubble=!0),this},normalized:!0},a.Event}),c("dom/ready",["../core"],function(a){var b,c,d,e,f=!1,g=[];return b=function(){f=!0,document.removeEvnetListener?document.removeEventListener("DOMContentLoaded",b):document.detachEvent("onreadystatechange",c);for(var a=function(a){try{a()}catch(b){}};g.length;)a(listners.shift())},c=function(){if(!f){if(!document.body)return setTimeout(c,5);b()}},d=function(){if(!f){try{documnet.documentElement.doScroll("left")}catch(a){return void setTimeout(d,5)}b()}},window.addEventListener?(window.addEventListener("DOMContentLoaded",b),window.addEventListener("load",b)):window.attacheEvent&&(window.attachEvent("onreadystatechange",c),window.attachEvent("onload",b),!window.frameElement&&document.documentElement.doScroll&&d()),e=function(a){return a?"loading"!==document.readyState?a():f?a():void g.push(a):void 0},a.ready=e,e}),c("dom/selector",["../core"],function(a){var b=function(a){return document.querySelectorAll(a)};return a.$=b,b}),c("dom/storage",["../core","./ready"],function(a,b){if(window.localStorage)a.storage=window.localStorage;else if(document.cookie)a.storage={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b){a&&(document.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(a){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},a.storage.length=document.cookie.match(/\=/g).length;else{var c,d="__boost_storage__";b(function(){c=document.createElement("div"),c.id=d,c.style.display="none",c.addBehavior("#default#userdata"),document.body.appendChild(c)}),a.storage={getItem:function(a){return a=escape(a),c&&c.getAttribute(a)},setItem:function(a,b){a=escape(a),c&&(c.setAttribute(a,b),this.length++)},length:0,removeItem:function(a){c&&(c.removeAttribute(a),this.length--)},key:function(a){return a in c.attributes}}}return a}),c("dom/main",["../core","./event","./data","./ready","./selector","./storage"],function(a){return a}),c("dom",["dom/main"],function(a){return a}),c("runtime/base64",["../core"],function(a){return a.base64={encode:window.btoa,decode:window.atob},a.base64}),c("runtime/json",["../core"],function(){return window.JSON}),c("runtime/main",["../core","./base64","./json"],function(a){return a}),c("runtime",["runtime/main"],function(a){return a}),c("promise/core",["../core"],function(a){var b=a.Logger.instrument("promise"),c=0,d=function(a,b,c,d){this.onFulfilled=a,this.onRejected=b,this.resolve=c,this.reject=d},e=function(a){return this instanceof e?(b.log("construct"),this.state=null,this.value=null,this.deferred=[],this.guid=c++,void this._doResolve(a)):e(a)};e.prototype._doResolve=function(a){b.log("do resolve, guid",this.guid);var c=!1,d=this;try{a.call(this,function(a){c||(c=!0,d._resolve(a))},function(a){c||(c=!0,d._reject(a))})}catch(e){if(b.error(e.stack?e.stack:e),c)return;c=!0,d._reject(e)}},e.prototype._resolve=function(a){b.log("_resolve",a,"guid",this.guid);try{if(a===this)throw new Error("Cannot be resolved by self");if(a&&a.then&&"function"==typeof a.then)return void this._doResolve(a.then.bind(a));this.state=!0,this.value=a,this._finale()}catch(c){this._reject(c)}},e.prototype._reject=function(a){b.log("reject",a,"guid",this.guid),this.state=!1,this.value=a,this._finale()},e.prototype._finale=function(){b.log("_finale",this.deferred.length,"guid",this.guid);var a,c;for(a=0,c=this.deferred.length;c>a;a++)this._handle(this.deferred[a]);this.deferred=null},e.prototype._handle=function(a){return null===this.state?(b.log("queue",a),void this.deferred.push(a)):void setTimeout(function(){b.log("handle, state:",this.state);var c,d=this.state?a.onFulfilled:a.onRejected;d||(this.state?a.resolve(this.value):a.reject(this.value));try{c=d(this.value)}catch(e){return a.reject(e),void b.error(e.stack?e.stack:e)}a.resolve(c)}.bind(this),0)},e.prototype.then=function(a,b){var c=this;return new e(function(e,f){c._handle(new d(a,b,e,f))})},e.prototype.fail=function(b){return this.then(a.noop,b)};try{e.prototype.catch=e.prototype.fail}catch(f){}return e}),c("promise/reject",["./core"],function(a){return a.reject=function(b){return new a(function(a,c){c(b)})},a.reject}),c("promise/resolve",["./core"],function(a){return a.resolve=function(b){return b&&b.constructor===a?b:new a(function(a){a(b)})},a.resolve}),c("promise/race",["./core"],function(a){a.race=function(a){if(!a||!a.length)throw new TypeError("should provide an array of promises");return new Promise(function(b,c){a.forEach(function(a){a&&"function"==typeof a.then?a.then(b,c):b(a)})})}}),c("promise/main",["../core","./core","./reject","./resolve","./race"],function(a,b){return a.Promise=b,a.deferred=function(){var a={};return a.promise=new b(function(b,c){a.resolve=b,a.reject=c}),a},a.Promise}),c("promise",["promise/main"],function(a){return a}),b.config({packages:["core","dom","runtime","promise"]}),c("main",["core","dom","runtime","promise"],function(a){return window.boost||(window.boost=a),a}),b(["main"]),b("main")});
//# sourceMappingURL=boost.min.map